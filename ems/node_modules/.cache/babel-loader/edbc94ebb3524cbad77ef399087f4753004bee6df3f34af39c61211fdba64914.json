{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import Footer from \"./Footer\";\n// import { Link, useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\n// import axios from \"axios\";\n\n// export default function Addsalary() {\n//   const [users, setUsers] = useState([]);\n//  const [formData,setFormData]=useState({\n//       basic_salary:\"\",\n//       allowance:\"\",\n//  })\n//  const navigate=useHistory()\n//  useEffect(() => {\n//   const fetchUsers = async () => {\n//     try {\n//       const res = await axios.get(\"http://localhost:3001/staffList\");\n//       setUsers(res.data);\n//     } catch (err) {\n//       console.log(\"Error fetching details\", err);\n//     }\n//   };\n\n//   fetchUsers();\n// }, []);\n//  const handleChange=(event)=>{\n//   let oldData={...formData}\n//   let inputValue=event.target.value;\n//   let inputName=event.target.name;\n//   oldData[inputName] = inputValue;\n//   setFormData(oldData)\n// };\n// function calculate(){\n//   let basicSalary=document.getElementById(\"basicSalary\").value;\n//   let alloWance= document.getElementById(\"alloWance\").value;\n//   var totalSalary=(basicSalary+alloWance)\n//   console.log(totalSalary);\n//   // id=\"total\"\n//  var  salary=document.getElementById(\"total\")\n//  salary.innerHTML=totalSalary;\n\n// }\n// const handleSubmit=async(e)=>{\n//   e.preventDefault();\n//   if(validateForm()){\n\n//     try{\n//       const response=await axios.post(\"http://localhost:3001/addSalary\",formData);\n//       if(response.status===201){\n//         alert(\"Salary Added Succesfully!!!\")\n//         navigate.push('/manageSalary');\n//       }\n//       else\n//       {\n//         alert(\"Error adding salary details\")\n//       }\n//     } catch(error){\n//           // Handle error response\n//           if (error.response && error.response.status === 400) {\n//             alert(error.response.data.error); // Display the error message to the user\n//             alert(\"Error adding staffs for duplicate value. Try again with updated Data\");\n//           } else {\n//             console.error(\"Error adding staff:\", error);\n//           }\n//     }\n//   }\n// //Handel form submission\n\n// let currentUserFormData={\n//   basic_salary:formData.basic_salary,\n//   allowance:formData.allowance\n// };\n\n// let oldUserdata=[...users,currentUserFormData];\n// setUsers(oldUserdata)\n// console.log(formData)\n\n// //To empty the input fields after adding/getting the data\n// setFormData ({\n// basic_salary:\"\",\n// allowance:\"\",\n\n// })\n// }\n\n// const validateForm=()=>{\n//   const {\n//     basic_salary,\n//     allowance,\n//   }=formData;\n\n// const errors={};\n// if(!basic_salary.trim()){\n//   errors.basic_salary=\"Basic Salary is required\";\n//   document.getElementById(\"basic_salary\").focus();\n// } \n// else if(!allowance.trim()){\n//   errors.allowance=\"Allowance is required\";\n//   document.getElementById(\"allowance\").focus();\n// }\n\n// if (Object.keys(errors).length === 0) {\n//   return true;\n// } else {\n//   alert(Object.values(errors)[0]);\n//   return false;\n// }\n\n// };\n\n//   function calculate() {\n//     let n1 = parseInt(document.getElementById(\"basic_salary\").value);\n//     let n2 = parseInt(document.getElementById(\"allowance\").value);\n//     let sum = n1 + n2;\n//     document.getElementById(\"total\").value = sum;\n//   }\n\n//   return (\n//     <>\n//       <nav\n//         className=\"navbar navbar-expand-lg\"\n//         style={{ backgroundColor: \"rgb(0 77 255 / 65%)\" }}\n//       >\n//         {/* Navbar content */}\n//       </nav>\n//       <div className=\"container my-2\">\n//         <h2>Salary</h2>\n//       </div>\n//       <div className=\"container-fluid pt-3\" style={{ padding: \"100px\" }}>\n//         <div className=\"row d-flex justify-content-evenly\">\n//           <div style={{ background: \"white\", padding: \"21px\", borderTop: \"5px solid #004dffe8\", borderRadius: \"5px\" }}>\n//             <h5 style={{ fontSize: \"20px\" }} className=\"px-2\">\n//               Add Salary\n//             </h5>\n//             <hr />\n//             <div className=\"container\">\n//               <div className=\"row\">\n//                 <div className=\"col-md-4\">\n//                   <div className=\"mb-3\">\n//                     <b className=\"\">Department Name</b>\n//                     <select\n//                       className=\"form-control\"\n//                       style={{ border: \"1px solid\" }}\n//                     >\n//                       <option disabled defaultValue={\"--Department Name--\"}>\n//                         --Department Name--\n//                       </option>\n//                       <option>Backend developement</option>\n//                       <option>Designing</option>\n//                       <option>Front-end developement</option>\n//                       <option>Marketing</option>\n//                       <option>Finance</option>\n//                     </select>\n//                   </div>\n//                 </div>\n//               </div>\n//             </div>\n//             <div className=\"container m-3\">\n//               <div className=\"row p-3\">\n//                 {users.length > 0 ? (\n//                   <table>\n//                     <thead>\n//                       <tr>\n//                         <th className=\"col-md-3 text-center bg- p-1 px-2 tablestyle\">\n//                           Staff\n//                         </th>\n//                         <th className=\"col-md-3 text-center bg- p-1 px-2 tablestyle\">\n//                           Basic Salary($)\n//                         </th>\n//                         <th className=\"col-md-3 text-center bg- p-1 px-2 tablestyle\">\n//                           Allowance($)\n//                         </th>\n//                         <th className=\"col-md-3 text-center bg- p-1 px-2 tablestyle\">\n//                           Total($)\n//                         </th>\n//                       </tr>\n//                     </thead>\n//                     <tbody>\n//                       {users.map((user, index) => (\n//                         <tr key={index}>\n//                           <td className=\"col-md-3 bg- p-1 px-2 tablestyle\">\n//                             {user.user_name}\n//                           </td>\n//                           <td className=\"col-md-3 bg- p-1 px-2 tablestyle\">\n//                             <input\n//                               type=\"text\"\n\n//                               id=\"basic_salary\"\n//                               name=\"basic_salary\"\n//                               placeholder=\"Enter the basic amount\"\n//                               value={formData.basic_salary}\n//                               onChange={handleChange}\n//                               onSubmit={handleSubmit}\n\n//                               style={{ width: \"100%\" }}\n//                             />\n//                           </td>\n//                           <td className=\"col-md-3 bg- p-1 px-2 tablestyle\">\n//                             <input\n//                               type=\"text\"\n//                               id=\"allowance\"\n//                               name=\"allowance\"\n//                               placeholder=\"Enter the basic amount\"\n//                               value={formData.allowance}\n//                               onChange={handleChange}\n//                               onSubmit={handleSubmit}\n//                               style={{ width: \"100%\" }}\n//                             />\n//                             {/* {error.allowance && <div className=\"text-danger\">{errors.allowance}</div>} */}\n//                           </td>\n//                           <td className=\"col-md-3 bg- p-1 px-2 tablestyle\">\n//                             <input\n//                               type=\"text\"\n//                               id=\"total\"\n//                               onChange={calculate}\n\n//                               readOnly\n//                               style={{ width: \"100%\" }}\n//                             />\n//                           </td>\n//                         </tr>\n//                       ))}\n//                     </tbody>\n//                   </table>\n//                 ) : (\n//                   <div>No data available</div>\n//                 )}\n//               </div>\n//             </div>\n//             <div className=\"container\">\n//               <button\n//                 type=\"submit\"\n//                 className=\"btn btn-success float-end\"\n//                 onClick={handleSubmit}\n//                 onSubmit={handleSubmit}\n//               >\n//                 Submit\n//               </button>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//       <Footer footerstyle=\"fixed-bottom\" />\n//     </>\n//   );\n// }","map":{"version":3,"names":[],"sources":["E:/EMS ARDENT FINAL GITHUB/ems/src/components/Addsalary.js"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import Footer from \"./Footer\";\r\n// import { Link, useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n// import axios from \"axios\";\r\n\r\n// export default function Addsalary() {\r\n//   const [users, setUsers] = useState([]);\r\n//  const [formData,setFormData]=useState({\r\n//       basic_salary:\"\",\r\n//       allowance:\"\",\r\n//  })\r\n//  const navigate=useHistory()\r\n//  useEffect(() => {\r\n//   const fetchUsers = async () => {\r\n//     try {\r\n//       const res = await axios.get(\"http://localhost:3001/staffList\");\r\n//       setUsers(res.data);\r\n//     } catch (err) {\r\n//       console.log(\"Error fetching details\", err);\r\n//     }\r\n//   };\r\n\r\n//   fetchUsers();\r\n// }, []);\r\n//  const handleChange=(event)=>{\r\n//   let oldData={...formData}\r\n//   let inputValue=event.target.value;\r\n//   let inputName=event.target.name;\r\n//   oldData[inputName] = inputValue;\r\n//   setFormData(oldData)\r\n// };\r\n// function calculate(){\r\n//   let basicSalary=document.getElementById(\"basicSalary\").value;\r\n//   let alloWance= document.getElementById(\"alloWance\").value;\r\n//   var totalSalary=(basicSalary+alloWance)\r\n//   console.log(totalSalary);\r\n//   // id=\"total\"\r\n//  var  salary=document.getElementById(\"total\")\r\n//  salary.innerHTML=totalSalary;\r\n\r\n\r\n  \r\n// }\r\n// const handleSubmit=async(e)=>{\r\n//   e.preventDefault();\r\n//   if(validateForm()){\r\n\r\n//     try{\r\n//       const response=await axios.post(\"http://localhost:3001/addSalary\",formData);\r\n//       if(response.status===201){\r\n//         alert(\"Salary Added Succesfully!!!\")\r\n//         navigate.push('/manageSalary');\r\n//       }\r\n//       else\r\n//       {\r\n//         alert(\"Error adding salary details\")\r\n//       }\r\n//     } catch(error){\r\n//           // Handle error response\r\n//           if (error.response && error.response.status === 400) {\r\n//             alert(error.response.data.error); // Display the error message to the user\r\n//             alert(\"Error adding staffs for duplicate value. Try again with updated Data\");\r\n//           } else {\r\n//             console.error(\"Error adding staff:\", error);\r\n//           }\r\n//     }\r\n//   }\r\n// //Handel form submission\r\n\r\n// let currentUserFormData={\r\n//   basic_salary:formData.basic_salary,\r\n//   allowance:formData.allowance\r\n// };\r\n\r\n// let oldUserdata=[...users,currentUserFormData];\r\n// setUsers(oldUserdata)\r\n// console.log(formData)\r\n\r\n// //To empty the input fields after adding/getting the data\r\n// setFormData ({\r\n// basic_salary:\"\",\r\n// allowance:\"\",\r\n\r\n// })\r\n// }\r\n\r\n\r\n\r\n// const validateForm=()=>{\r\n//   const {\r\n//     basic_salary,\r\n//     allowance,\r\n//   }=formData;\r\n\r\n// const errors={};\r\n// if(!basic_salary.trim()){\r\n//   errors.basic_salary=\"Basic Salary is required\";\r\n//   document.getElementById(\"basic_salary\").focus();\r\n// } \r\n// else if(!allowance.trim()){\r\n//   errors.allowance=\"Allowance is required\";\r\n//   document.getElementById(\"allowance\").focus();\r\n// }\r\n\r\n\r\n// if (Object.keys(errors).length === 0) {\r\n//   return true;\r\n// } else {\r\n//   alert(Object.values(errors)[0]);\r\n//   return false;\r\n// }\r\n\r\n\r\n\r\n\r\n// };\r\n\r\n//   function calculate() {\r\n//     let n1 = parseInt(document.getElementById(\"basic_salary\").value);\r\n//     let n2 = parseInt(document.getElementById(\"allowance\").value);\r\n//     let sum = n1 + n2;\r\n//     document.getElementById(\"total\").value = sum;\r\n//   }\r\n\r\n\r\n\r\n//   return (\r\n//     <>\r\n//       <nav\r\n//         className=\"navbar navbar-expand-lg\"\r\n//         style={{ backgroundColor: \"rgb(0 77 255 / 65%)\" }}\r\n//       >\r\n//         {/* Navbar content */}\r\n//       </nav>\r\n//       <div className=\"container my-2\">\r\n//         <h2>Salary</h2>\r\n//       </div>\r\n//       <div className=\"container-fluid pt-3\" style={{ padding: \"100px\" }}>\r\n//         <div className=\"row d-flex justify-content-evenly\">\r\n//           <div style={{ background: \"white\", padding: \"21px\", borderTop: \"5px solid #004dffe8\", borderRadius: \"5px\" }}>\r\n//             <h5 style={{ fontSize: \"20px\" }} className=\"px-2\">\r\n//               Add Salary\r\n//             </h5>\r\n//             <hr />\r\n//             <div className=\"container\">\r\n//               <div className=\"row\">\r\n//                 <div className=\"col-md-4\">\r\n//                   <div className=\"mb-3\">\r\n//                     <b className=\"\">Department Name</b>\r\n//                     <select\r\n//                       className=\"form-control\"\r\n//                       style={{ border: \"1px solid\" }}\r\n//                     >\r\n//                       <option disabled defaultValue={\"--Department Name--\"}>\r\n//                         --Department Name--\r\n//                       </option>\r\n//                       <option>Backend developement</option>\r\n//                       <option>Designing</option>\r\n//                       <option>Front-end developement</option>\r\n//                       <option>Marketing</option>\r\n//                       <option>Finance</option>\r\n//                     </select>\r\n//                   </div>\r\n//                 </div>\r\n//               </div>\r\n//             </div>\r\n//             <div className=\"container m-3\">\r\n//               <div className=\"row p-3\">\r\n//                 {users.length > 0 ? (\r\n//                   <table>\r\n//                     <thead>\r\n//                       <tr>\r\n//                         <th className=\"col-md-3 text-center bg- p-1 px-2 tablestyle\">\r\n//                           Staff\r\n//                         </th>\r\n//                         <th className=\"col-md-3 text-center bg- p-1 px-2 tablestyle\">\r\n//                           Basic Salary($)\r\n//                         </th>\r\n//                         <th className=\"col-md-3 text-center bg- p-1 px-2 tablestyle\">\r\n//                           Allowance($)\r\n//                         </th>\r\n//                         <th className=\"col-md-3 text-center bg- p-1 px-2 tablestyle\">\r\n//                           Total($)\r\n//                         </th>\r\n//                       </tr>\r\n//                     </thead>\r\n//                     <tbody>\r\n//                       {users.map((user, index) => (\r\n//                         <tr key={index}>\r\n//                           <td className=\"col-md-3 bg- p-1 px-2 tablestyle\">\r\n//                             {user.user_name}\r\n//                           </td>\r\n//                           <td className=\"col-md-3 bg- p-1 px-2 tablestyle\">\r\n//                             <input\r\n//                               type=\"text\"\r\n                              \r\n//                               id=\"basic_salary\"\r\n//                               name=\"basic_salary\"\r\n//                               placeholder=\"Enter the basic amount\"\r\n//                               value={formData.basic_salary}\r\n//                               onChange={handleChange}\r\n//                               onSubmit={handleSubmit}\r\n\r\n//                               style={{ width: \"100%\" }}\r\n//                             />\r\n//                           </td>\r\n//                           <td className=\"col-md-3 bg- p-1 px-2 tablestyle\">\r\n//                             <input\r\n//                               type=\"text\"\r\n//                               id=\"allowance\"\r\n//                               name=\"allowance\"\r\n//                               placeholder=\"Enter the basic amount\"\r\n//                               value={formData.allowance}\r\n//                               onChange={handleChange}\r\n//                               onSubmit={handleSubmit}\r\n//                               style={{ width: \"100%\" }}\r\n//                             />\r\n//                             {/* {error.allowance && <div className=\"text-danger\">{errors.allowance}</div>} */}\r\n//                           </td>\r\n//                           <td className=\"col-md-3 bg- p-1 px-2 tablestyle\">\r\n//                             <input\r\n//                               type=\"text\"\r\n//                               id=\"total\"\r\n//                               onChange={calculate}\r\n                              \r\n//                               readOnly\r\n//                               style={{ width: \"100%\" }}\r\n//                             />\r\n//                           </td>\r\n//                         </tr>\r\n//                       ))}\r\n//                     </tbody>\r\n//                   </table>\r\n//                 ) : (\r\n//                   <div>No data available</div>\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n//             <div className=\"container\">\r\n//               <button\r\n//                 type=\"submit\"\r\n//                 className=\"btn btn-success float-end\"\r\n//                 onClick={handleSubmit}\r\n//                 onSubmit={handleSubmit}\r\n//               >\r\n//                 Submit\r\n//               </button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//       <Footer footerstyle=\"fixed-bottom\" />\r\n//     </>\r\n//   );\r\n// }\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}