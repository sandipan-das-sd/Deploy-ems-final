{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import Footer from\"../Footer\";import{useHistory}from\"react-router-dom/cjs/react-router-dom.min\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function NewDepartment(){const[formData,setFormData]=useState({deptName:\"\",deptID:\"\"});const navigate=useHistory();const[showSuccessAlert,setShowSuccessAlert]=useState(false);const[showErrorAlert,setShowErrorAlert]=useState(false);const[errorMessage,setErrorMessage]=useState(\"\");const handleChange=event=>{const{name,value}=event.target;setFormData(prevData=>({...prevData,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();if(!formData.deptName||!formData.deptID){alert(\"Please enter both department name and department ID\");if(!formData.deptName){document.getElementById(\"deptname\").focus();// Focus on department name input\n}else if(!formData.deptID){document.getElementById(\"deptid\").focus();// Focus on department ID input\n}return;// Prevent further execution of the function\n}try{const res=await axios.post(\"https://server-ems-seven.vercel.app/adddept\",formData);if(res.status===201){setShowSuccessAlert(true);setShowErrorAlert(false);// Reset the error alert state\nsetTimeout(()=>{setShowSuccessAlert(false);},3000);// Hides the success alert after 3 seconds\n}else{setShowErrorAlert(true);setErrorMessage(\"Failed to add department.\");}}catch(error){console.error(\"Error adding Department Details:\",error);setShowErrorAlert(true);setErrorMessage(\"  Error adding Department Details: \".concat(error.message));setTimeout(()=>{setShowErrorAlert(false);},3000);}setFormData({deptName:\"\",deptID:\"\"});};return/*#__PURE__*/_jsxs(_Fragment,{children:[showSuccessAlert&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success d-flex align-items-center\",role:\"alert\",style:{width:\"1285px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-10\",role:\"img\",\"aria-label\":\"Success\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Department added Successfully!!..\"})]}),showErrorAlert&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger d-flex align-items-center\",role:\"alert\",style:{width:\"1285px\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"me-10\",role:\"img\",\"aria-label\":\"Error\",children:\"\\u274C\"}),errorMessage]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container my-10\",style:{textAlign:\"center\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:\"20px\"},children:\"Add Departments\"}),/*#__PURE__*/_jsx(\"hr\",{style:{borderTop:\"3px solid black\"}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5\",style:{position:\"relative\",display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,style:{width:\"600px\",maxWidth:\"90%\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",style:{boxShadow:\"0 4px 8px rgba(0,0,0,0.1)\",border:\"2px solid #80bdff\",borderRadius:\"10px\",padding:\"30px\",transition:\"border-color 0.3s\"},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:\"#007bff\",marginBottom:\"15px\",borderBottom:\"2px solid #007bff\",paddingBottom:\"10px\"},children:\"Add Department\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"deptName\",className:\"form-label\",children:\"Department Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"deptName\",id:\"deptname\",value:formData.deptName,placeholder:\"Enter department name in Caps\",onChange:handleChange,className:\"form-control\",style:{border:\"1px solid #ced4da\",borderRadius:\"5px\",transition:\"border-color 0.3s\"}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"deptID\",className:\"form-label\",children:\"Department ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"deptID\",id:\"deptid\",value:formData.deptID,onChange:handleChange,className:\"form-control\",style:{border:\"1px solid #ced4da\",borderRadius:\"5px\",transition:\"border-color 0.3s\"}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-lg\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success btn-lg ms-3\",onClick:()=>navigate.push(\"/manageDepartment\"),children:\"Manage Department\"})]})]})})}),/*#__PURE__*/_jsx(Footer,{footerstyle:\"fixed-bottom\"})]});}","map":{"version":3,"names":["React","useState","axios","Footer","useHistory","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NewDepartment","formData","setFormData","deptName","deptID","navigate","showSuccessAlert","setShowSuccessAlert","showErrorAlert","setShowErrorAlert","errorMessage","setErrorMessage","handleChange","event","name","value","target","prevData","handleSubmit","e","preventDefault","alert","document","getElementById","focus","res","post","status","setTimeout","error","console","concat","message","children","className","role","style","width","textAlign","marginBottom","borderTop","position","display","justifyContent","onSubmit","maxWidth","boxShadow","border","borderRadius","padding","transition","color","borderBottom","paddingBottom","htmlFor","type","id","placeholder","onChange","onClick","push","footerstyle"],"sources":["E:/Deploy ems/ems/src/components/Department/NewDepartment.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Footer from \"../Footer\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\n\r\nexport default function NewDepartment() {\r\n  const [formData, setFormData] = useState({\r\n    deptName: \"\",\r\n    deptID: \"\",\r\n  });\r\n  const navigate=useHistory();\r\n  const [showSuccessAlert, setShowSuccessAlert] = useState(false);\r\n  const [showErrorAlert, setShowErrorAlert] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!formData.deptName || !formData.deptID) {\r\n      alert(\"Please enter both department name and department ID\");\r\n      if (!formData.deptName) {\r\n        document.getElementById(\"deptname\").focus(); // Focus on department name input\r\n      } else if (!formData.deptID) {\r\n        document.getElementById(\"deptid\").focus(); // Focus on department ID input\r\n      }\r\n      return; // Prevent further execution of the function\r\n    }\r\n    try {\r\n      const res = await axios.post(\"https://server-ems-seven.vercel.app/adddept\", formData);\r\n      if (res.status === 201) {\r\n        setShowSuccessAlert(true);\r\n        setShowErrorAlert(false); // Reset the error alert state\r\n        setTimeout(() => {\r\n          setShowSuccessAlert(false);\r\n        }, 3000); // Hides the success alert after 3 seconds\r\n      } else {\r\n        setShowErrorAlert(true);\r\n        setErrorMessage(\"Failed to add department.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error adding Department Details:\", error);\r\n      setShowErrorAlert(true);\r\n      setErrorMessage(`  Error adding Department Details: ${error.message}`);\r\n      setTimeout(() => {\r\n        setShowErrorAlert(false);\r\n      }, 3000);\r\n    }\r\n\r\n    setFormData({\r\n      deptName: \"\",\r\n      deptID: \"\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showSuccessAlert && (\r\n        <div\r\n          className=\"alert alert-success d-flex align-items-center\"\r\n          role=\"alert\"\r\n          style={{ width: \"1285px\" }}\r\n        >\r\n          <span className=\"me-10\" role=\"img\" aria-label=\"Success\">\r\n            ✅\r\n          </span>\r\n          <div>Department added Successfully!!..</div>\r\n        </div>\r\n      )}\r\n\r\n      {showErrorAlert && (\r\n        <div\r\n          className=\"alert alert-danger d-flex align-items-center\"\r\n          role=\"alert\"\r\n          style={{ width: \"1285px\" }}\r\n        >\r\n          <span className=\"me-10\" role=\"img\" aria-label=\"Error\">\r\n            ❌\r\n          </span>\r\n          {errorMessage}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"container my-10\" style={{ textAlign: \"center\" }}>\r\n        <h2\r\n          style={{ marginBottom: \"20px\" }}\r\n        >\r\n          Add Departments\r\n        </h2>\r\n        <hr style={{ borderTop: \"3px solid black\" }} />\r\n      </div>\r\n\r\n      <div\r\n        className=\"container-fluid py-5\"\r\n        style={{\r\n          position: \"relative\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          style={{ width: \"600px\", maxWidth: \"90%\" }}\r\n        >\r\n          <div\r\n            className=\"mb-3\"\r\n            style={{\r\n              boxShadow: \"0 4px 8px rgba(0,0,0,0.1)\",\r\n              border: \"2px solid #80bdff\",\r\n              borderRadius: \"10px\",\r\n              padding: \"30px\",\r\n              transition: \"border-color 0.3s\",\r\n            }}\r\n          >\r\n            <h3\r\n              style={{\r\n                color: \"#007bff\",\r\n                marginBottom: \"15px\",\r\n                borderBottom: \"2px solid #007bff\",\r\n                paddingBottom: \"10px\",\r\n              }}\r\n            >\r\n              Add Department\r\n            </h3>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"deptName\" className=\"form-label\">\r\n                Department Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"deptName\"\r\n                id=\"deptname\"\r\n                value={formData.deptName}\r\n                placeholder=\"Enter department name in Caps\"\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                style={{\r\n                  border: \"1px solid #ced4da\",\r\n                  borderRadius: \"5px\",\r\n                  transition: \"border-color 0.3s\",\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"deptID\" className=\"form-label\">\r\n                Department ID\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"deptID\"\r\n                id=\"deptid\"\r\n                value={formData.deptID}\r\n                onChange={handleChange}\r\n                className=\"form-control\"\r\n                style={{\r\n                  border: \"1px solid #ced4da\",\r\n                  borderRadius: \"5px\",\r\n                  transition: \"border-color 0.3s\",\r\n                }}\r\n              />\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <button type=\"submit\" className=\"btn btn-primary btn-lg\">\r\n                Submit\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-success btn-lg ms-3\"\r\n                onClick={() => navigate.push(\"/manageDepartment\")}\r\n              >\r\n                Manage Department\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <Footer footerstyle=\"fixed-bottom\"/>\r\n      \r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}