{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function User(){const[userData,setUserData]=useState(null);useEffect(()=>{// Fetch user data based on the stored email\nconst userEmail=localStorage.getItem('userEmail');axios.get(\"https://ems-server-theta.vercel.app/staffList?user_email=\".concat(userEmail)).then(response=>{if(response.data&&response.data.length>0){// If user data is found, set it in state\nsetUserData(response.data[0]);}else{console.log('User data not found');}}).catch(error=>{console.error('Error fetching user data:',error);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to User profile\"}),userData?/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome, \",userData.user_name]}):/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger d-flex align-items-center\",role:\"alert\",children:[\"No Staff Member Found in our Company.\",/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",\"ml-10\":true,children:\"See Reason\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title fs-5\",id:\"exampleModalLabel\",children:\"Reason\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:\"Please use your email ID provided during registration to access the your account. If you are not a staff member, this feature is not intended for you.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-bs-dismiss\":\"modal\",children:\"Understood\"})]})]})})})]})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","User","userData","setUserData","userEmail","localStorage","getItem","get","concat","then","response","data","length","console","log","catch","error","children","user_name","className","role","type","id","tabIndex"],"sources":["E:/Deploy ems/ems/src/components/SignUpUser/User.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function User() {\r\n  const [userData, setUserData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Fetch user data based on the stored email\r\n    const userEmail = localStorage.getItem('userEmail');\r\n    axios.get(`https://ems-server-theta.vercel.app/staffList?user_email=${userEmail}`)\r\n      .then(response => {\r\n        if (response.data && response.data.length > 0) {\r\n          // If user data is found, set it in state\r\n          setUserData(response.data[0]);\r\n        } else {\r\n          console.log('User data not found');\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching user data:', error);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Welcome to User profile</h1>\r\n      {userData ? (\r\n        <p>Welcome, {userData.user_name}</p>\r\n      ) : (\r\n        <div className=\"alert alert-danger d-flex align-items-center\" role=\"alert\">\r\n          No Staff Member Found in our Company.\r\n          <button type=\"button\" className=\"btn btn-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\" ml-10>\r\n            See Reason\r\n          </button>\r\n\r\n          {/* Modal */}\r\n          <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n            <div className=\"modal-dialog\">\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-header\">\r\n                  <h1 className=\"modal-title fs-5\" id=\"exampleModalLabel\">Reason</h1>\r\n                  <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div className=\"modal-body\">\r\n                  Please use your email ID provided during registration to access the your account. If you are not a staff member, this feature is not intended for you.\r\n                </div>\r\n                <div className=\"modal-footer\">\r\n                  <button type=\"button\" className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                  <button type=\"button\" className=\"btn btn-primary\" data-bs-dismiss=\"modal\">Understood</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAE9CC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAS,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CACnDV,KAAK,CAACW,GAAG,6DAAAC,MAAA,CAA6DJ,SAAS,CAAE,CAAC,CAC/EK,IAAI,CAACC,QAAQ,EAAI,CAChB,GAAIA,QAAQ,CAACC,IAAI,EAAID,QAAQ,CAACC,IAAI,CAACC,MAAM,CAAG,CAAC,CAAE,CAC7C;AACAT,WAAW,CAACO,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,CAC/B,CAAC,IAAM,CACLE,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CACpC,CACF,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,EAAI,CACdH,OAAO,CAACG,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEhB,KAAA,QAAAiB,QAAA,eACEnB,IAAA,OAAAmB,QAAA,CAAI,yBAAuB,CAAI,CAAC,CAC/Bf,QAAQ,cACPF,KAAA,MAAAiB,QAAA,EAAG,WAAS,CAACf,QAAQ,CAACgB,SAAS,EAAI,CAAC,cAEpClB,KAAA,QAAKmB,SAAS,CAAC,8CAA8C,CAACC,IAAI,CAAC,OAAO,CAAAH,QAAA,EAAC,uCAEzE,cAAAnB,IAAA,WAAQuB,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,iBAAiB,CAAC,iBAAe,OAAO,CAAC,iBAAe,eAAe,CAAC,YAAK,CAAAF,QAAA,CAAC,YAE9G,CAAQ,CAAC,cAGTnB,IAAA,QAAKqB,SAAS,CAAC,YAAY,CAACG,EAAE,CAAC,cAAc,CAACC,QAAQ,CAAC,IAAI,CAAC,kBAAgB,mBAAmB,CAAC,cAAY,MAAM,CAAAN,QAAA,cAChHnB,IAAA,QAAKqB,SAAS,CAAC,cAAc,CAAAF,QAAA,cAC3BjB,KAAA,QAAKmB,SAAS,CAAC,eAAe,CAAAF,QAAA,eAC5BjB,KAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAF,QAAA,eAC3BnB,IAAA,OAAIqB,SAAS,CAAC,kBAAkB,CAACG,EAAE,CAAC,mBAAmB,CAAAL,QAAA,CAAC,QAAM,CAAI,CAAC,cACnEnB,IAAA,WAAQuB,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,WAAW,CAAC,kBAAgB,OAAO,CAAC,aAAW,OAAO,CAAS,CAAC,EAC7F,CAAC,cACNrB,IAAA,QAAKqB,SAAS,CAAC,YAAY,CAAAF,QAAA,CAAC,wJAE5B,CAAK,CAAC,cACNjB,KAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAF,QAAA,eAC3BnB,IAAA,WAAQuB,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,mBAAmB,CAAC,kBAAgB,OAAO,CAAAF,QAAA,CAAC,OAAK,CAAQ,CAAC,cAC1FnB,IAAA,WAAQuB,IAAI,CAAC,QAAQ,CAACF,SAAS,CAAC,iBAAiB,CAAC,kBAAgB,OAAO,CAAAF,QAAA,CAAC,YAAU,CAAQ,CAAC,EAC1F,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,EACH,CACN,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}